<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rune Hunters</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div id="gameContainer">
<canvas id="gameCanvas"></canvas>
<div id="nightOverlay"></div>
<div id="tutorialOverlay"></div>
<div id="hud">
<div id="topLeftPanel" class="hud-element top-left">
Time: <span id="timeDisplay">9:00 AM, Day 1</span><br>
Research Points: <span id="moneyDisplay">0</span>
</div>
<div id="topRightPanel" class="hud-element top-right">
<button id="researchTreeButton" class="action-button" tabindex="1">Research Tree</button>
<button id="settingsButton" class="action-button" tabindex="2">Settings</button>
</div>
<div id="bottomLeftPanel" class="hud-element bottom-left" style="display:none">
<strong>Collected Artifacts</strong><br>
<div id="inventoryDisplay"></div>
</div>

<div id="messageBox">
<p id="messageText"></p>
</div>
<div id="tutorialBox" class="hud-element" style="display:none">
<p id="tutorialText"></p>
<button id="nextTutorialButton" class="action-button" style="margin-top:10px" tabindex="3">Next</button>
</div>
</div>
<div id="settingsModal" class="modal-overlay" style="display:none">
<div class="modal-content">
<h2>Game Settings</h2>
<button id="controlsButton" class="action-button">Controls</button>

<button id="howToPlayButton" class="action-button" tabindex="16">How To Play</button>
<button id="restartTutorialInModal" class="action-button" tabindex="17">Restart Tutorial</button>
<button id="showCreditsButton" class="action-button" tabindex="18">Credits</button>
<button id="resetProgressButton" class="action-button red" tabindex="19">Reset All Progress</button>
<button id="closeSettingsModal" class="action-button" tabindex="20">Close</button>
</div>
</div>
<div id="controlsModal" class="modal-overlay" style="display:none">
<div class="modal-content">
<h2>Controls</h2>
<div style="display:flex;gap:10px;justify-content:center;margin-bottom:20px">
<button id="settingsSelectKeyboard" class="action-button">ğŸ¹ Keyboard Controls</button>
<button id="settingsSelectTouch" class="action-button">ğŸ“± Touch Controls (Joystick)</button>
</div>
<div id="keybindsSection" style="display:none">
<div class="keybinds-grid">
<div class="keybind-setting">
<span>Move Up:</span>
<button id="keybind-up1-btn" class="action-button keybind-btn" onclick="startKeybindChange('up',0)" tabindex="4">W</button>
<button id="keybind-up2-btn" class="action-button keybind-btn" onclick="startKeybindChange('up',1)" tabindex="5">â†‘</button>
</div>
<div class="keybind-setting">
<span>Move Down:</span>
<button id="keybind-down1-btn" class="action-button keybind-btn" onclick="startKeybindChange('down',0)" tabindex="6">S</button>
<button id="keybind-down2-btn" class="action-button keybind-btn" onclick="startKeybindChange('down',1)" tabindex="7">â†“</button>
</div>
<div class="keybind-setting">
<span>Move Left:</span>
<button id="keybind-left1-btn" class="action-button keybind-btn" onclick="startKeybindChange('left',0)" tabindex="8">A</button>
<button id="keybind-left2-btn" class="action-button keybind-btn" onclick="startKeybindChange('left',1)" tabindex="9">â†</button>
</div>
<div class="keybind-setting">
<span>Move Right:</span>
<button id="keybind-right1-btn" class="action-button keybind-btn" onclick="startKeybindChange('right',0)" tabindex="10">D</button>
<button id="keybind-right2-btn" class="action-button keybind-btn" onclick="startKeybindChange('right',1)" tabindex="11">â†’</button>
</div>
<div class="keybind-setting">
<span>Interact:</span>
<button id="keybind-interact1-btn" class="action-button keybind-btn" onclick="startKeybindChange('interact',0)" tabindex="12">E</button>
<button id="keybind-interact2-btn" class="action-button keybind-btn" onclick="startKeybindChange('interact',1)" tabindex="13">-</button>
</div>
<div class="keybind-setting">
<span>Return:</span>
<button id="keybind-return1-btn" class="action-button keybind-btn" onclick="startKeybindChange('return',0)" tabindex="14">R</button>
<button id="keybind-return2-btn" class="action-button keybind-btn" onclick="startKeybindChange('return',1)" tabindex="15">-</button>
</div>
</div>
</div>
<button id="closeControlsModal" class="action-button">Back to Settings</button>
</div>
</div>
<div id="artifactModal" class="modal-overlay" style="display:none">
<div class="modal-content">
<h2 id="artifactName">Artifact Discovered!</h2>
<p id="artifactDescription"></p>
<button id="closeArtifactModal" class="action-button" tabindex="21">Continue Digging</button>
</div>
</div>
<div id="documentationModal" class="modal-overlay" style="display:none">
<div class="modal-content">
<h2>ğŸ“‹ Document Artifacts</h2>
<p id="documentationMessage">Processing your findings...</p>
<div id="documentationList"></div>
<button id="closeDocumentationModal" class="action-button" tabindex="22">Exit Lab</button>
</div>
</div>
<div id="sleepModal" class="modal-overlay" style="display:none">
<div class="modal-content">
<h2>ğŸ›ï¸ End of Day</h2>
<p id="sleepMessage">Rest up for tomorrow's excavations?</p>
<button id="confirmSleep" class="action-button" tabindex="24">Sleep (Start New Day)</button>
<button id="cancelSleep" class="action-button red" tabindex="25">Stay Awake</button>
</div>
</div>
<div id="researchTreeModal" class="modal-overlay" style="display:none">
<div class="modal-content">
<h2>Research Tree</h2>
<p>Unlock upgrades to improve your archaeological abilities</p>
<div id="researchTreeContent" class="research-tree"></div>
<button id="closeResearchTreeModal" class="action-button" tabindex="26">Close</button>
</div>
</div>
<div id="questBoardModal" class="modal-overlay" style="display:none">
<div class="modal-content">
<h2>ğŸ“‹ Quest Board</h2>
<p>Complete quests to unlock storyline discoveries and earn rewards!</p>
<div id="questBoardContent"></div>
<button id="closeQuestBoardModal" class="action-button" tabindex="27">Close</button>
</div>
</div>
<div id="creditsModal" class="modal-overlay" style="display:none">
<div class="modal-content">
<h2>ğŸ“œ Game Credits</h2>
<div class="credits-section">
<p><strong>Version 4.1</strong></p>
<p>FLL Team 56913 IDK R0b0c0ns</p>
<p>Our Coaches</p>
<p>Mauve Robotics</p>
<p>Multiple AI Models</p>
</div>
<button id="closeCreditsModal" class="action-button" tabindex="28">Close</button>
</div>
</div>
<div id="missionCompleteModal" class="modal-overlay" style="display:none">
<div class="modal-content">
<h2>ğŸ† Mission Complete!</h2>
<p style="font-size:18px;color:#ffd700"><strong>Congratulations!</strong></p>
<p>You have completed the archaeological journey and uncovered the ancient secrets!</p>
<div class="credits-section">
<p><strong>Version 4.1</strong></p>
<p>FLL Team 56913 IDK R0b0c0ns</p>
<p>Our Coaches</p>
<p>Mauve Robotics</p>
<p>Multiple AI Models</p>
</div>
<button id="continueExploringButton" class="action-button" tabindex="29">Continue Exploring</button>
<button id="closeMissionCompleteModal" class="action-button" tabindex="30">Return to Game</button>
</div>
</div>
<div id="lateNightModal" class="modal-overlay" style="display:none">
<div class="modal-content">
<h2>ğŸŒ™ It's Late...</h2>
<p>It's 11 PM. You should head to camp to sleep.</p>
<p>Time is frozen until you rest.</p>
<button id="closeLateNightModal" class="action-button" tabindex="31">Understood</button>
</div>
</div>
<div id="confirmModal" class="modal-overlay" style="display:none">
<div class="modal-content">
<h2>Reset Progress?</h2>
<p>Are you sure you want to reset all your progress?</p>
<p>This action cannot be undone and will restart the game.</p>
<button id="confirmResetBtn" class="action-button red" tabindex="32">Confirm Reset</button>
<button id="cancelResetBtn" class="action-button" tabindex="33">Cancel</button>
</div>
</div>
<div id="howToPlayModal" class="modal-overlay" style="display:none">
<div class="modal-content">
<h2>ğŸ“– How To Play</h2>
<div class="help-section">
<h3>Movement</h3>
<p>Use <strong id="help-move-keys">WASD/Arrow Keys</strong> to move around the world.</p>
</div>
<div class="help-section">
<h3>Digging</h3>
<p>Dig sites have 5-10 hidden layers. Only one layer is visible at a time. Click tiles to excavate them instantly. Clear all tiles in a layer to reveal the next layer.</p>
</div>
<div class="help-section">
<h3>Artifacts</h3>
<p>Artifacts you collect appear in your inventory (bottom-left). They never disappear. Bring them to the Lab to document and earn research points.</p>
</div>
<div class="help-section">
<h3>Research Tree</h3>
<p>Spend research points to unlock upgrades. Each upgrade requires all previous tier upgrades to be unlocked first.</p>
</div>
<div class="help-section">
<h3>Camp & Lab</h3>
<p>Camp: Sleep to start a new day and generate new dig sites.<br>Lab: Document artifacts to earn Research Points.</p>
</div>
<div class="help-section">
<h3>Keybinds</h3>
<p>Interact / Exit Site: <strong id="help-interact-keys">E</strong><br>Secondary Return: <strong id="help-return-keys">R</strong></p>
</div>
<button id="closeHowToPlayModal" class="action-button" tabindex="34">Close</button>
</div>
</div>
</div>
<div id="controlSchemeModal" class="modal-overlay" style="display:none">
<div class="modal-content">
<h2>Choose Control Scheme</h2>
<p>Select your preferred control method:</p>
<div style="display:flex;gap:10px;justify-content:center">
<button id="selectKeyboard" class="action-button">Keyboard Controls</button>
<button id="selectTouch" class="action-button">Touch Controls (Joystick)</button>
</div>
</div>
</div>
<div id="loadingScreen" class="loading-overlay" style="display:flex">
<p>Loading Rune Hunters...</p>
</div>
<div id="joystick" class="joystick">
<div class="joystick-container">
<div id="joystick-base" class="joystick-base"></div>
<div id="joystick-handle" class="joystick-handle"></div>
<button id="joystick-center-button" class="joystick-center-button" onpointerdown="handleJoystickCenterPress(event)" onpointerup="handleJoystickCenterRelease(event)" onpointercancel="handleJoystickCenterRelease(event)" oncontextmenu="return false;">â—</button>
</div>
</div>
<script src="script.js"></script>
</body>
</html>
